# 游戏整体架构重构文档

**游戏类型**: 2D点击解谜游戏  
**开发时间**: 15小时  
**目标**: 恋爱一周年 + 跨年礼物  
**最后更新**: 2025-12-07

---

## 🎯 核心设计调整

### 关键变更

1. **从3D改为2D**
   - 场景从四层钟楼改为单屏幕场景
   - 交互从3D探索改为2D点击
   - 大幅简化美术和开发工作量

2. **三章对应三把锁**
   - 每章完成后获得一个炼金术符号
   - 三个符号用于解开实物盒子的三把锁
   - 实物盒子内是跨年+一周年礼物

3. **跨年钟声放到最后**
   - 第三章结尾，午夜钟声响起
   - 与实物礼物揭晓同步
   - 最大化情感冲击

4. **大幅精简谜题**
   - 每章2-3个核心谜题（原计划5-6个）
   - 谜题机制简单但有深度
   - 重点在叙事和情感，而非复杂度

---

## 📖 三章结构重构

### 整体主题：**时间的三个维度**

```
第一章：过去 (The Past)
    ↓
  [符号1]
    ↓
第二章：现在 (The Present)
    ↓
  [符号2]
    ↓
第三章：未来 (The Future)
    ↓
  [符号3]
    ↓
  解锁实物盒子
    ↓
  跨年钟声 + 礼物揭晓
```

---

## 第一章：乌鸦与记忆 (The Raven and Memory)

### 主题
**过去 - 记忆的守护与和解**

> "记忆是时间留下的羽毛，轻盈却永恒。"

### 场景
**单一场景**: 钟楼顶层（2D横版视角）

```
┌─────────────────────────────────────────────────────┐
│    [窗户]     [大钟]      [乌鸦]     [窗户]        │
│                                                     │
│  [画框1]   [音乐盒]   [画框2]   [望远镜]          │
│                                                     │
│         [地板上的物品和线索]                        │
└─────────────────────────────────────────────────────┘
```

### 核心谜题（精简为2个）

#### 谜题1: 音乐盒旋律 ★★★☆☆
**目标**: 弹奏正确的旋律解锁音乐盒

**机制**:
- 7个音符按钮
- 正确序列：Mi-Sol-Mi-Do-Re-Mi-Re-Do（小刚演唱会）
- 线索：墙上的画框中隐藏乐谱
- 完成后：音乐盒打开，获得"记忆碎片1"

**开发时间**: 2小时
- 音符按钮UI：30分钟
- 序列验证逻辑：30分钟
- 音效和反馈：30分钟
- 过场动画（简化）：30分钟

#### 谜题2: 喂食乌鸦 ★★☆☆☆
**目标**: 找到正确的物品喂食乌鸦

**机制**:
- 场景中有多个物品可以拾取
- 只有"记忆碎片1"（从音乐盒获得）能让乌鸦满意
- 乌鸦接受后，掉落"过去之符"（第一个符号）

**开发时间**: 1小时
- 物品拾取系统：30分钟
- 乌鸦交互和动画：30分钟

### 回忆彩蛋
**小刚演唱会** - 简化为静态画面 + 文字独白

**开发时间**: 1小时

### 总开发时间：4小时

---

## 第二章：植物与生长 (The Garden and Growth)

### 主题
**现在 - 关系的培育与滋养**

> "爱像植物，需要时间、阳光和耐心。"

### 场景
**单一场景**: 安吉百草园温室（2D横版视角）

```
┌─────────────────────────────────────────────────────┐
│  [天窗]    [藤蔓]    [花朵]    [蝴蝶]              │
│                                                     │
│  [花盆1] [花盆2] [花盆3] [花盆4] [浇水壶]          │
│                                                     │
│  [种子盒]  [工具台]  [日记]  [时钟]               │
└─────────────────────────────────────────────────────┘
```

### 核心谜题（2个）

#### 谜题1: 植物培育 ★★★★☆
**目标**: 按正确顺序培育四种植物

**机制**:
- 四个花盆，四种种子
- 每种植物需要不同的条件：
  - 阳光植物：需要打开天窗
  - 水分植物：需要浇水
  - 时间植物：需要调整时钟（快进时间）
  - 爱意植物：需要对话（点击说话）
- 四种植物都开花后，它们的花瓣组合成"记忆碎片2"

**象征意义**:
- 阳光：温暖和关怀
- 水分：日常的陪伴
- 时间：耐心的等待
- 爱意：情感的表达

**开发时间**: 3小时
- 植物生长系统：1小时
- 四种条件的交互：1小时
- 动画和视觉反馈：1小时

#### 谜题2: 蝴蝶拼图 ★★★☆☆
**目标**: 引导蝴蝶停在正确的花上

**机制**:
- 场景中有一只蝴蝶在飞
- 点击不同的花，蝴蝶会飞过去
- 需要按照特定顺序（对应重要日期）让蝴蝶访问花朵
- 正确顺序：第1朵→第107朵→第147朵→第365朵
- 完成后：蝴蝶留下"现在之符"（第二个符号）

**开发时间**: 2小时
- 蝴蝶飞行动画：1小时
- 序列验证和反馈：1小时

### 回忆彩蛋
**安吉百草园** - 简化为静态画面 + 文字独白

**开发时间**: 1小时

### 总开发时间：6小时

---

## 第三章：钟声与永恒 (The Chime and Eternity)

### 主题
**未来 - 时间的流动与承诺**

> "真正的永恒，是在流动中始终选择彼此。"

### 场景
**单一场景**: 天体仪核心（2D俯视/正视混合）

```
┌─────────────────────────────────────────────────────┐
│              [天体仪 - 外层环]                      │
│                                                     │
│         [符号槽1] [符号槽2] [符号槽3]              │
│                                                     │
│              [大钟 - 指针]                          │
│                                                     │
│         [齿轮1] [齿轮2] [齿轮3]                    │
└─────────────────────────────────────────────────────┘
```

### 核心谜题（2个）

#### 谜题1: 齿轮联动 ★★★☆☆
**目标**: 将三个齿轮正确安装，让大钟运转

**机制**:
- 三个齿轮代表：日常、回忆、未来
- 需要拖放到正确位置
- 正确安装后，齿轮联动，大钟开始摆动
- 大钟摆动后，时针和分针可以调整

**开发时间**: 2小时
- 拖放系统：1小时
- 齿轮联动动画：1小时

#### 谜题2: 时间设定 ★★★★★
**目标**: 将大钟调整到特殊时刻

**机制**:
- 可以旋转时针和分针
- 目标时间：1:47（或其他有意义的时间）
- 调整正确后，钟声开始响起
- 12次钟声（代表12个月）
- 每次钟声，天体仪的一个刻度发光
- 最后，三个符号融合成"未来之符"（第三个符号）

**开发时间**: 2小时
- 指针旋转交互：1小时
- 钟声序列和视觉效果：1小时

### 最终仪式：符号融合与盒子解锁

**机制**:
1. 三个符号（过去、现在、未来）放入天体仪的三个槽位
2. 符号开始旋转、融合
3. 形成最终的"永恒之符"
4. 屏幕显示：**"现在，打开你面前的盒子"**
5. 玩家打开实物盒子（三把锁已可用三个符号解开）
6. 盒子内是礼物
7. 游戏内，午夜钟声响起（12次）
8. 屏幕显示最终独白

**开发时间**: 2小时
- 符号融合动画：1小时
- 最终仪式序列：1小时

### 总开发时间：6小时

---

## 🎮 2D游戏设计特点

### 视角选择
**横版点击式** - 类似《Rusty Lake: Roots》

### 交互方式
- **点击**: 检查物品、触发交互
- **拖放**: 移动物品、安装齿轮
- **旋转**: 调整指针、旋转机关

### 美术风格
- **手绘风格**: 类似锈湖系列
- **有限色板**: 每章一个主色调
  - 第一章：暖橙+深灰（黄昏）
  - 第二章：翠绿+棕褐（植物）
  - 第三章：深蓝+金色（夜空）
- **简化细节**: 重点在氛围而非写实

### 动画
- **关键帧动画**: 物品移动、门开关
- **骨骼动画**: 乌鸦、蝴蝶
- **粒子效果**: 光芒、花瓣、星星

---

## ⏱️ 开发时间分配（15小时总计）

### 第一章：4小时
- 场景搭建：1小时
- 谜题实现：3小时

### 第二章：6小时
- 场景搭建：1.5小时
- 谜题实现：4.5小时

### 第三章：6小时
- 场景搭建：1小时
- 谜题实现：4小时
- 最终仪式：1小时

### 全局系统：3小时
- 物品系统：1小时
- 对话系统：1小时
- 存档系统：0.5小时
- UI框架：0.5小时

### 美术和音效：2小时
- 场景美术：1小时（使用AI生成+手绘）
- 音效和音乐：1小时（使用现成素材库）

### **总计：20小时**（留5小时缓冲）

---

## 🔧 技术实现简化

### 使用现成工具
- **引擎**: Unity 2D（更适合2D）或 Godot
- **美术**: Midjourney/Stable Diffusion 生成背景
- **音效**: Freesound.org 素材库
- **音乐**: Epidemic Sound 或自己制作简单旋律

### 代码复用
- 所有谜题使用统一的"Puzzle"基类
- 物品系统使用"Item"基类
- 对话系统使用简单的JSON配置

### AI辅助
- 使用Cursor/GitHub Copilot加速编码
- 使用ChatGPT生成对话文本
- 使用AI工具生成美术素材

---

## 🎁 实物盒子设计建议

### 三把锁的设计
1. **符号锁**: 每把锁上有一个符号的形状
2. **对应关系**:
   - 锁1 ← 过去之符（乌鸦羽毛形状）
   - 锁2 ← 现在之符（花朵形状）
   - 锁3 ← 未来之符（齿轮形状）
3. **解锁方式**: 游戏中获得符号后，屏幕显示符号的实体形状，玩家用对应的钥匙/卡片解锁

### 盒子内容建议
- 一周年礼物（你准备的）
- 跨年倒计时卡片
- 手写信
- 照片或其他纪念品

---

## 📊 与原设计的对比

| 方面 | 原设计（3D） | 新设计（2D） |
|------|-------------|-------------|
| **场景数量** | 4层钟楼 | 3个单屏场景 |
| **谜题数量** | 每章5-6个 | 每章2-3个 |
| **开发时间** | 50+小时 | 15小时 |
| **美术工作量** | 巨大（3D建模） | 中等（2D手绘+AI） |
| **技术难度** | 高（3D交互） | 中（2D点击） |
| **叙事深度** | 保持 | 保持 |
| **情感冲击** | 保持 | 保持 |

---

## ✅ 优势

1. **可实现性高**: 15小时完全可行
2. **聚焦核心**: 谜题少但精，每个都有深意
3. **锈湖风格**: 2D更接近锈湖原作
4. **情感不减**: 叙事和象征意义保持完整
5. **实物互动**: 与实体盒子的结合更有仪式感

---

## 🎯 下一步

1. 精简第一章设计（2D适配）
2. 详细设计第二章
3. 详细设计第三章
4. 创建开发时间表和检查清单

让我们开始吧！🚀
